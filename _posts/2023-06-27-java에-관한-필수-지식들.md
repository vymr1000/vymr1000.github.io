---
layout: post
category: 2023
---

<br/>

> Java의 기본 원리에 대한 개념 정리


## Java 언어의 특징에 대해

---
{: data-content="핵심"}

Java는 **객체지향적**이고, **플랫폼 독립적**이며, 안정성이 높아 다양한 환경에서 널리 사용되는 프로그래밍 언어입니다.

---
{: data-content="자세한 설명"}

1. 객체지향: Java는 완전한 객체지향 프로그래밍 언어입니다. 클래스와 객체를 기반으로 상속, 다형성, 캡슐화와 같은 객체지향의 핵심 개념을 지원합니다.

2. 플랫폼 독립성: Java의 가장 큰 특징 중 하나는 **Write Once, Run Anywhere**이라는 원칙을 따르는 것입니다. 즉, Java로 작성된 프로그램은 Java Virtual Machine(JVM)이 설치된 어떤 플랫폼에서도 실행할 수 있습니다.

3. 안정성: Java는 컴파일 시간과 실행 시간 모두에 걸쳐 강력한 오류 체크 기능을 제공하여 프로그램의 안정성을 높입니다. 또한, 자동 메모리 관리 기능인 가비지 컬렉션을 지원하여 메모리 누수 문제를 방지합니다.

4. 멀티스레딩: Java는 내장된 스레딩 기능을 제공하므로 병렬 처리를 통해 프로그램 성능을 향상시킬 수 있습니다.

5. 네트워크 지원: Java는 TCP/IP와 같은 저수준 네트워크 지원부터 HTTP, FTP 등의 고수준 프로토콜 지원에 이르기까지 풍부한 네트워크 프로그래밍 기능을 제공합니다.

6. 풍부한 라이브러리: Java는 파일 입출력, 데이터베이스 연동, 네트워킹, GUI 등 많은 분야에 걸친 방대한 라이브러리를 제공합니다.

이러한 특징들은 Java가 다양한 환경에서 널리 사용되는 언어가 되게 만들었습니다. Java는 웹 애플리케이션, 모바일 애플리케이션(특히 안드로이드), 임베디드 시스템, 빅데이터 처리 등 다양한 분야에서 활용되며, 이에 걸맞는 다양한 개발 도구와 프레임워크도 풍부하게 제공되고 있습니다.


## Java 프로그램 실행 과정에 대해 

---
{: data-content="핵심"}

자바 프로그램이 실행되는 과정은 크게 소스 코드의 작성, **컴파일**, **클래스 로드**, **링크**, **초기화**, 그리고 실행 단계로 이루어집니다.

---
{: data-content="자세한 설명"}

1. 소스 코드 작성: 프로그래머는 자바의 문법을 이용해 `.java` 확장자를 가진 자바 소스 코드 파일을 작성합니다.
2. 컴파일: 작성된 소스 코드는 자바 컴파일러('javac')에 의해 바이트코드로 변환되며, 이 결과 `.class` 확장자를 가진 파일이 생성됩니다. 바이트코드는 플랫폼에 독립적인 코드로서, 모든 환경의 JVM에서 동일하게 실행될 수 있습니다.
3. 클래스 로딩: 런타임 시, JVM의 클래스 로더는 필요한 클래스 파일들을 로드합니다. 클래스 로더는 파일 시스템이나 네트워크 등에서 바이트코드가 담긴 `.class` 파일을 찾아 메모리에 적재하는 역할을 합니다. 
4. 링크: 로딩된 클래스들은 링크 과정을 거쳐서 JVM이 사용할 수 있는 상태로 준비됩니다. 이 과정은 검증, 준비, 그리고 (선택적으로) 해석 단계를 포함하며, 클래스나 인터페이스의 바이트코드 검증, 정적 변수의 메모리 할당과 초기화, 그리고 바이트코드의 심볼릭 메모리 참조를 메서드 영역의 직접 참조로 변환하는 작업 등을 수행합니다. 
5. 초기화: 스태틱 변수들이 초기 값으로 대체되고, 스태틱 블록이 실행됩니다. 이 과정은 클래스가 처음으로 활성화 될 때 수행됩니다. 
6. 실행: JVM의 실행 엔진이 바이트코드를 해석하거나 JIT 컴파일러를 이용해 네이티브 코드로 변환한 후 실행합니다.

이런 식으로, 자바 프로그램은 작성부터 실행까지 여러 단계를 거치며, 이 각각의 단계에서 발생할 수 있는 오류나 이슈를 이해하고 대응하는 것이 자바 개발자의 중요한 역량 중 하나입니다.


## main 메서드에서 static이 생략된다면

---
{: data-content="핵심"}

Java에서 main 메서드에 static 키워드가 생략된다면, 프로그램은 실행되지 않습니다.

---
{: data-content="자세한 설명"}

Java 애플리케이션의 진입점인 **main 메서드는 JVM이 클래스 로딩 없이 호출**할 수 있어야 합니다. 이를 위해 main 메서드는 static으로 선언되어야 합니다. static 키워드는 메서드가 객체 인스턴스에 속하지 않고 클래스 자체에 속하도록 지정합니다. 따라서 객체를 생성하지 않고도 호출이 가능합니다.

따라서 main 메서드에 static 키워드가 생략된다면, JVM은 main 메서드를 찾을 수 없게 되므로 프로그램은 시작되지 않습니다. 이때는 "Main method not found in class"라는 오류 메시지가 표시됩니다.

정리하자면, Java 프로그램의 실행을 위해서는 main 메서드를 static으로 선언해야 하며, 이를 생략하면 프로그램이 실행되지 않습니다.


## JVM의 역할에 대해 

---
{: data-content="핵심"}

JVM(Java Virtual Machine)은 자바 바이트코드(.class 파일)를 OS에 특화된 코드로 변환하여 실행하는 역할을 합니다. 이를 통해 자바는 플랫폼 독립적인 언어가 될 수 있습니다.

---
{: data-content="자세한 설명"}

1. 플랫폼 독립성 제공: JVM은 자바 코드가 한번 작성되면 어느 기기에서든 실행될 수 있도록 플랫폼 독립성을 제공합니다. 자바 코드는 JVM이 설치된 어느 플랫폼에서든 실행될 수 있습니다. 이는 자바 코드가 바이트 코드로 컴파일되며, 이 바이트 코드가 JVM 상에서 실행되기 때문입니다. JVM은 이 바이트 코드를 해당 플랫폼의 기계어로 변환하므로, 개발자는 플랫폼에 따라 코드를 다르게 작성할 필요가 없습니다.
2. 메모리 관리: JVM은 자바 애플리케이션의 메모리 관리를 담당합니다. JVM은 가비지 컬렉션을 통해 동적 메모리 할당 및 해제를 관리하므로, 개발자는 메모리 관리에 대해 걱정할 필요가 없습니다. 이를 통해 메모리 누수와 같은 문제를 방지하며, 개발자가 보다 비즈니스 로직에 집중할 수 있도록 돕습니다.
3. 보안 제공: JVM은 클래스 로더와 바이트 코드 검증기를 통해 자바 애플리케이션의 보안을 관리합니다. 부적절한 코드나 메모리 접근을 방지하여 안전한 실행 환경을 제공합니다.

결국, JVM의 역할은 자바가 **한 번 작성하면 어디서든 실행 가능(Write Once, Run Anywhere)** 라는 원칙을 이룰 수 있도록 해줍니다. 이는 개발자가 다양한 플랫폼에서 동일하게 작동하는 애플리케이션을 더 쉽게 개발할 수 있게 해줍니다.


## JVM 메모리 구조에 대해

---
{: data-content="핵심"}

JVM(Java Virtual Machine)의 메모리 구조는 주로 메소드 영역, 힙 영역, 스택 영역, PC 레지스터, 그리고 네이티브 메소드 스택으로 구성되어 있습니다. 각 영역은 JVM이 프로그램을 실행하는 데 필요한 데이터를 저장하고 관리합니다.

---
{: data-content="자세한 설명"}

1. 메소드 영역(Method Area): JVM이 읽어 들인 각 클래스와 인터페이스에 대한 런타임 상수 풀, **필드와 메소드 데이터**, 메소드와 생성자의 바이트코드, 그리고 **static 변수** 등의 데이터를 저장합니다. 
2. 힙 영역(Heap Area): 모든 클래스의 인스턴스와 배열이 이 영역에 할당됩니다. 즉, 우리가 **new 키워드를 사용해 생성하는 모든 객체는 이 힙 영역에 생성**되며, 가비지 컬렉션의 대상이 됩니다. 
3. 스택 영역(Stack Area): 각 스레드마다 하나씩 존재하며, 메소드의 호출과 과정에서 중간 결과를 저장하고, **메소드가 작업을 수행하는 동안 로컬 변수를 저장**하는 등의 역할을 합니다. 
4. PC 레지스터(PC Register): 현재 수행 중인 JVM 명령의 주소를 저장합니다. 이 레지스터 역시 스레드마다 하나씩 생성됩니다. 
5. 네이티브 메소드 스택(Native Method Stack): 네이티브 메소드를 위한 스택입니다. 자바 외의 언어로 작성된 네이티브 코드를 위한 공간입니다.


## Java Stream에 대해

---
{: data-content="핵심"}

자바에서 스트림(Stream)은 데이터를 추상화하여 다루는, 데이터의 흐름을 나타내는 객체입니다.

---
{: data-content="자세한 설명"}

스트림은 자바 8에서 추가된 기능으로, 복잡한 데이터 처리를 간결하고 효율적으로 할 수 있도록 도와줍니다. 배열이나 컬렉션의 데이터를 함수형 프로그래밍 방식으로 처리할 수 있게 하며, 병렬처리 기능도 지원합니다.

스트림은 '원본 데이터 변경 없이' 데이터를 처리합니다. 이는 중간 처리 과정에서 새로운 스트림을 생성하면서 원본 데이터를 보호합니다. 또한, 스트림은 '게으른 연산'을 통해 필요한 시점에만 데이터를 처리하며, 이는 효율성과 성능 향상에 기여합니다.

스트림은 크게 '중간 연산'과 '최종 연산'으로 나뉩니다. 중간 연산은 filter, map 등의 연산을 포함하며, 이는 스트림을 반환하여 연산의 연속성을 보장합니다. 최종 연산은 collect, forEach, reduce 등이 있으며, 스트림을 닫고 결과를 반환하거나 소비하는 연산입니다.

따라서, 자바의 스트림은 데이터의 흐름을 표현하고, 효율적이고 선언적인 데이터 처리를 가능하게 합니다.


## Java Stream은 어떤 상황에서 활용될 수 있는가

---
{: data-content="핵심"}

자바의 스트림(Stream)은 대용량 데이터 처리, 복잡한 데이터 연산, 병렬처리 등 다양한 상황에서 활용할 수 있습니다.

---
{: data-content="자세한 설명"}

1. 대용량 데이터 처리: 스트림은 대용량의 데이터를 효율적으로 처리하는데 유용합니다. 스트림은 '게으른 연산'을 수행하기 때문에, 필요한 시점에서만 데이터를 처리합니다. 따라서 대용량 데이터를 처리할 때 메모리 사용량을 최소화하는 데 도움이 됩니다.

2. 복잡한 데이터 연산: 스트림은 filter, map, reduce 등 다양한 연산을 제공하므로 복잡한 데이터 처리를 쉽게 할 수 있습니다. 이러한 연산들을 사용하면, 데이터 필터링, 변환, 집계 등 복잡한 연산을 선언적으로 수행할 수 있습니다.

3. 병렬처리: 스트림은 parallelStream() 메소드를 통해 병렬처리를 지원합니다. 이를 통해 멀티 코어 프로세서의 이점을 최대한 활용하여 성능을 향상시킬 수 있습니다. 하지만 주의할 점은, 모든 작업이 병렬 처리에 적합하지 않으며 공유 변경 가능한 데이터 등에 대한 동기화 문제를 고려해야 합니다.

따라서 자바의 스트림은 대용량 데이터 처리, 복잡한 데이터 연산, 병렬처리 등 다양한 상황에서 활용될 수 있습니다. 그러나 스트림의 특성과 사용 시 주의점을 이해하고 적절한 상황에서 사용해야 합니다.


## 병렬 처리는 언제 적용될 수 있는가

---
{: data-content="핵심"}

웹 애플리케이션에서 병렬처리를 적용하는 것은 작업의 독립성, 데이터의 불변성, 동기화 오버헤드 등을 고려해야 합니다. 적절하게 관리되지 않은 병렬처리는 동시성 문제를 초래하고 성능 저하를 가져올 수 있습니다.

---
{: data-content="자세한 설명"}

1. 작업의 독립성: 병렬 처리는 작업이 독립적일 때 가장 효과적입니다. 즉, 한 작업의 결과가 다른 작업에 영향을 주지 않는 경우입니다. 만약 작업들이 서로 연관되어 있다면, 병렬처리를 통한 성능 향상을 기대하기 어렵습니다.

2. 데이터의 불변성: 데이터를 병렬로 처리할 때는 해당 데이터가 불변(immutable)한지 확인해야 합니다. 불변 객체를 사용하면 여러 스레드에서 동시에 접근하더라도 문제가 되지 않으므로, 동시성 문제를 피할 수 있습니다.

3. 동기화 오버헤드: 동기화는 병렬처리에서 동시성 문제를 해결하는 한 가지 방법이지만, 동기화에는 비용이 발생합니다. 따라서 동기화 오버헤드가 작업 처리 시간보다 크다면, 병렬처리보다는 순차 처리가 더 효율적일 수 있습니다.

4. 입출력(IO) 대기 시간: 병렬 처리는 CPU 바운드 작업보다는 IO 바운드 작업에 더 적합합니다. 특히 웹 애플리케이션에서는 외부 서비스 호출, 디스크 입출력 등 IO 대기 시간이 많은 경우, 병렬 처리를 통해 이러한 대기 시간을 최소화할 수 있습니다.

따라서 웹 애플리케이션에서 병렬처리를 적용하는 것은 상황에 따라 다르며, 위에서 언급한 요소들을 고려하여 결정해야 합니다. 이는 병렬 처리의 이점을 최대화하고, 동시성 문제나 성능 저하 등의 부작용을 최소화하는 데 도움이 될 것입니다.


## 병렬 처리 조건에 해당하는 독립성이란

---
{: data-content="핵심"}

병렬 처리는 여러 작업을 동시에 처리하는 것을 말합니다. 이 방식은 작업이 서로 독립적일 때 가장 효과적입니다. '작업의 독립성'이라는 개념은 한 작업의 결과가 다른 작업에 영향을 미치지 않는 상태를 가리킵니다.

---
{: data-content="자세한 설명"}

병렬 처리에서 독립적인 작업이란 한 작업이 다른 작업의 수행에 영향을 주지 않는 작업을 말합니다. 이런 종류의 작업은 다른 작업의 결과나 상태에 대해 알 필요 없이 각각 독립적으로 실행할 수 있습니다.

예를 들어, 여러 사진 파일을 동시에 다운로드 받는 작업을 생각해보겠습니다. 각 사진 파일을 다운로드 받는 작업은 서로 독립적입니다. 즉, 한 사진 파일의 다운로드 상태나 속도가 다른 사진 파일의 다운로드에 영향을 주지 않습니다. 따라서 이런 경우에 병렬 처리를 통해 각 사진 파일을 동시에 다운로드 받으면 전체적인 다운로드 시간을 크게 단축시킬 수 있습니다.

반면에, 연산의 결과가 다음 연산의 입력으로 사용되는 경우, 이 작업들은 서로 의존성을 가지게 됩니다. 예를 들어, 피보나치 수열을 계산하는 경우, 각 숫자는 이전 두 숫자의 합으로 계산됩니다. 이러한 작업은 독립적으로 수행될 수 없으므로, 병렬 처리를 적용하더라도 성능 향상을 기대하기 어렵습니다.

따라서 병렬 처리를 적용할 때는 작업의 독립성을 먼저 고려해야 하며, 작업이 서로 의존성을 가지는지 확인하는 것이 중요합니다. 독립적인 작업들에 대해서만 병렬 처리를 적용하면, 리소스를 효율적으로 활용하여 전체 작업의 수행 시간을 줄일 수 있습니다.