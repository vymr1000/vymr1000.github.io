---
layout: post
category: 2023
---

<br/>

> Spring 및 Springboot의 구조, 동작과정 및 기본 원리에 대한 개념 정리

<br/>

## Spring의 동작과정에 대해

---
{: data-content="핵심"}

Spring Framework는 자바 플랫폼을 위한 애플리케이션 프레임워크로, 엔터프라이즈 수준의 애플리케이션을 개발하는 데 필요한 모든 기능을 포괄적으로 제공합니다. 주요 기능 중 하나는 제어의 역전(IoC) 컨테이너를 통한 객체의 생명 주기 및 의존성 관리입니다.

---
{: data-content="자세한 설명"}

Spring Framework의 동작 과정은 다음과 같습니다:

1. 초기화: Spring 애플리케이션은 시작 시 Spring IoC(Inversion of Control) 컨테이너를 초기화합니다. 이 과정에서 XML, Java Config, Annotation 등을 이용해 정의된 Bean들의 메타데이터를 로딩하고 파싱합니다.

2. Bean 정의: 개발자가 XML 파일이나 Java Config를 통해 정의한 Bean들의 정보를 읽어들입니다. 이 정보는 Bean의 이름, 클래스 타입, 스코프(scope), 생성자 및 속성값 등을 포함합니다.

3. Bean 생성: Bean의 정의를 바탕으로 Spring IoC 컨테이너는 Bean의 인스턴스를 생성하고, 의존성 주입(Dependency Injection)을 수행합니다. 의존성 주입은 Bean이 필요로 하는 다른 Bean들을 주입하는 과정을 말합니다.

4. Bean 사용: 애플리케이션은 IoC 컨테이너로부터 필요한 Bean을 가져와 사용합니다. 이때, 요청받은 Bean이 없다면 IoC 컨테이너는 해당 Bean을 생성하여 제공합니다.

5. 종료: 애플리케이션 종료 시, Spring IoC 컨테이너는 모든 Singleton Bean에 대한 생명 주기를 관리하고, 필요한 경우 종료 메서드를 호출합니다.

Spring Framework의 핵심은 이러한 IoC 컨테이너로, 개발자 대신 객체의 생명 주기를 관리하고 객체 간의 의존성을 관리합니다. 이로써 개발자는 비즈니스 로직 구현에 집중할 수 있으며, 코드의 재사용성과 유연성이 향상됩니다.


## Springboot 동작과정에 대해

---
{: data-content="핵심"}

Spring Boot는 Spring 기반 애플리케이션을 빠르고 쉽게 만들어 줄 수 있는 프레임워크입니다. 기본 설정을 통해 사용자가 선택하는 라이브러리와 프레임워크에 따라 필요한 설정을 자동화해주며, 애플리케이션을 단독으로 실행할 수 있게 도와줍니다.

---
{: data-content="자세한 설명"}

Spring Boot 애플리케이션의 동작 과정을 설명하겠습니다.

1. 애플리케이션 시작: `public static void main` 메서드를 통해 Spring Boot 애플리케이션을 시작합니다. 이 메서드에서는 `SpringApplication.run` 메서드를 호출합니다.

2. 설정 파일 로딩: `SpringApplication.run`이 실행되면서 기본적으로 `application.yml` 등의 설정 파일들을 로드합니다.

3. 내장 서버 생성: Spring Boot는 웹 애플리케이션의 경우 내장 서버(Tomcat, Jetty, Undertow 등)를 자동으로 생성합니다.

4. 클래스패스 스캔: `@ComponentScan` 어노테이션을 통해 Spring이 관리해야 할 Bean들을 스캔합니다. 클래스패스 스캔 범위는 기본적으로 메인 애플리케이션 클래스가 위치한 패키지와 하위 패키지입니다.

5. 자동 설정: `@EnableAutoConfiguration` 어노테이션을 통해 스프링 부트의 자동 설정 기능이 동작합니다. 이 기능은 클래스패스에 있는 라이브러리나 사용자 설정에 따라 애플리케이션의 필요한 빈을 자동으로 설정해줍니다.

6. 애플리케이션 실행: 마지막으로 필요한 빈들이 모두 등록되고 나면, 애플리케이션은 실행 상태가 됩니다. 이후 HTTP 요청 등에 따라 적절한 컨트롤러가 호출되고, 비즈니스 로직이 실행됩니다.

이렇게 Spring Boot는 애플리케이션 개발에서 반복적으로 수행해야 할 설정 작업을 최소화하고, 프로그래머가 비즈니스 로직에 집중할 수 있도록 도와줍니다.


## SpringApplication.run메소드는 어떤 역할과 기능을 하는지에 대해

---
{: data-content="핵심"}

`SpringApplication.run` 메소드는 Springboot 애플리케이션을 시작하는 진입점입니다. 이 메소드는 Spring 어플리케이션 컨텍스트를 생성하고 실행합니다.

---
{: data-content="자세한 설명"}

`SpringApplication.run` 메소드는 자바 클래스를 인자로 받아, 그 클래스를 기반으로 Spring 어플리케이션 컨텍스트를 생성합니다. 이 메소드는 애플리케이션 컨텍스트의 라이프사이클을 관리하며, 필요한 설정과 함께 Spring의 IoC(IoC, Inversion of Control) 컨테이너를 시작합니다.

이 메소드는 또한 Springboot의 자동-구성(Auto-Configuration) 기능을 활성화합니다. 이는 Spring Boot 애플리케이션에 포함된 jar 종속성을 기반으로 애플리케이션의 기본 설정을 자동으로 완성합니다. 예를 들어, Spring MVC와 Tomcat이 클래스패스에 있을 경우, Springboot는 웹 애플리케이션을 실행하기 위해 필요한 설정을 자동으로 추가합니다.

따라서 `SpringApplication.run` 메소드는 Spring Boot 애플리케이션의 시작점이며, 애플리케이션의 라이프사이클을 관리하고, Spring의 IoC 컨테이너를 시작하며, 자동-구성을 활성화하고, 애플리케이션이 완전히 시작되었음을 알리는 이벤트를 발행하는 역할을 합니다.


## Springboot의 IoC컨테이너에 대해
---
{: data-content="핵심"}

Spring Boot의 IoC(Inversion of Control) 컨테이너는 객체의 생성, 관리 및 제공을 담당하는 Spring Framework의 핵심 부분입니다. 이 컨테이너는 객체 간의 의존성을 자동으로 관리하며, 이로 인해 개발자는 객체 생성과 의존성 설정에 대한 부담 없이 비즈니스 로직에 집중할 수 있습니다.

---
{: data-content="자세한 설명"}

1. 객체 생성: Spring IoC 컨테이너는 애플리케이션의 시작 시점에 구성 파일(Java Config, XML 등)에 기술된 대로 필요한 객체를 생성합니다. 이렇게 생성된 객체들은 Spring에서는 일반적으로 Bean이라고 부릅니다.

2. 의존성 주입(Dependency Injection): 생성된 객체들이 서로 간에 의존성을 가지는 경우, Spring IoC 컨테이너는 이 의존성을 자동으로 해결합니다. 이를 통해 객체 간의 결합도를 낮추고 코드의 재사용성과 유지 관리성을 높일 수 있습니다. 의존성 주입은 주로 `@Autowired`, `@Resource` 등의 어노테이션을 이용해 이루어집니다.

3. 객체 제공: Spring IoC 컨테이너는 개발자가 필요로 하는 객체를 제공합니다. 이는 주로 ApplicationContext의 `getBean` 메소드를 통해 이루어지며, 필요에 따라 특정 타입의 모든 Bean을 제공하거나 특정 이름의 Bean을 제공할 수 있습니다.

4. 생명주기 관리: Spring IoC 컨테이너는 Bean의 생명주기를 관리합니다. Bean이 생성되고, 의존성이 주입된 후 초기화 메소드가 호출됩니다. 애플리케이션 종료 시에는 소멸 메소드가 호출됩니다. 초기화와 소멸 메소드는 각각 `@PostConstruct`와 `@PreDestroy` 어노테이션을 이용해 지정할 수 있습니다.

따라서, Spring Boot의 IoC 컨테이너는 객체의 생성부터 제거에 이르는 전 과정을 관리하며, 이를 통해 개발자는 객체의 생성과 관리에 들어가는 노력을 절약하고 애플리케이션의 유연성과 확장성을 높일 수 있습니다.